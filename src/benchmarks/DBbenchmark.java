package benchmarks;

import tools.*;

public abstract class DBbenchmark {
	
	//Database Set Up Functions
	/**
	 * Create people and transaction tables
	 * 		people (int id PRIMARy KEY, String name, int age, String gender, String color)
	 * 		
	 */
	
	/**
	 * DELETE * FROM people
	 * DELETE * FROM transaction
	**/
	public abstract void reset();
	
	/**
	 * DROP TABLE people;
	 * DROP TABLE transaction;
	 */
	public abstract void delete();
	
	
	
	/**
	 * INSERT INTO people VALUES(?,?,?,?,?)
	**/
	public void insertPeopleRecord(int id,String name,int age,String gender,String color) {
		insertPeopleRecord(new PeopleRow(id,name,age,gender,color));
	}
	
	//automatic id based on the current number of people
	public void insertPeopleRecord(String name,int age,String gender,String color) {
		insertPeopleRecord(new PeopleRow(name,age,gender,color));
	}
	
	public abstract void insertPeopleRecord(PeopleRow row);
	
	
	/**
	 * 
	 * INSERT INTO transaction VALUES(id,price,item,buyer,seller,date)
	 * buyer and seller are autogenerated
	**/
	public void insertTransactionRecord(int id, float price,String item,String date) {
		insertTransactionRecord(new TransactionRow(id,price,item,date));
	}
	
	//automatic id based on current number of transactions
	public void insertTransactionRecord(float price,String item,String date) {
		insertTransactionRecord(new TransactionRow(price,item,date));
	}
	
	/**
	 * Abstract transaction record insert from transaction row
	 */
	public abstract void insertTransactionRecord(TransactionRow row);
	
	/**
	DELETE * FROM people WHERE id=?
	**/
	public abstract void deletePeopleRecord(int id);
	
	/**
	DELETE * FROM transaction WHERE transactionid=?
	**/
	public abstract void deleteTransactionRecord(int id);
	
	
	/**
	 * Select Test 1: look up by primary key.
	 * 
	SELECT * FROM people WHERE id=?
	**/
	public abstract void selectTest1(int id);
	
	/**
	 * Select Test 2: look up by non primary key.
	 * 
	SELECT * FROM people WHERE name=?
	**/
	public abstract void selectTest2(String name);
	
	
	/**
	 * Select Test 3: range lookup
	 * 
	SELECT * FROM people WHERE ?<age AND age>?
	**/
	public abstract void selectTest3(int startAge,int endAge);
	
	/**
	 * Select Test 4: group by
	 * 
	SELECT age,count(*) FROM people GROUP BY age
	**/
	public abstract void selectTest4();
	
	/**
	 * Select Test 5: group by, aggragate and filter
	 * 
	SELECT buyer,sum(price) FROM people WHERE datetime=? GROUP BY transactionid,buyer
	**/
	public abstract void selectTest5(String date);
	
	/**
	 * Select Test 6: basic join
	 * 
	SELECT p.name,p.age,t.transactionid FROM people p,transaction t WHERE p.id=t.buyer AND p.age>?
	**/
	public abstract void selectTest6(int age);
}
